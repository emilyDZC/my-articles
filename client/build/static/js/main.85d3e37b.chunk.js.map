{"version":3,"sources":["components/Header.js","context/AppReducer.js","context/GlobalState.js","components/Post.js","components/Posts.js","components/AddPost.js","App.js","reportWebVitals.js","index.js"],"names":["Header","state","action","type","loading","posts","payload","filter","post","_id","error","initialState","GlobalContext","createContext","GlobalProvider","children","useReducer","AppReducer","dispatch","a","axios","get","res","data","response","id","delete","config","header","Provider","value","deletePost","addPost","getPosts","Post","title","body","date","tags","source","topic","useContext","className","onClick","Posts","useEffect","map","moment","createdAt","format","AddPost","setShowAddPost","useState","setTitle","setBody","setTopic","setTags","setSource","onSubmit","e","preventDefault","htmlFor","placeholder","onChange","target","App","showAddPost","current","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.85d3e37b.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Header = () => {\n  return <h2>My Articles</h2>;\n};\n\nexport default Header;\n","export default (state, action) => {\n  switch (action.type) {\n    case \"GET_POSTS\":\n      return {\n        ...state,\n        loading: false,\n        posts: action.payload,\n      };\n    case \"DELETE_POST\":\n      return {\n        ...state,\n        posts: state.posts.filter((post) => post._id !== action.payload),\n      };\n    case \"ADD_POST\":\n      return {\n        ...state,\n        posts: [action.payload, ...state.posts],\n      };\n    case \"POST_ERROR\":\n      return {\n        ...state,\n        error: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n","import React, { createContext, useReducer } from \"react\";\nimport AppReducer from \"./AppReducer\";\nimport axios from \"axios\";\n\nconst initialState = {\n  posts: [],\n  error: null,\n  loading: true,\n};\n\n// Create context\nexport const GlobalContext = createContext(initialState);\n\n// Provider component\nexport const GlobalProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(AppReducer, initialState);\n\n  // Actions\n  async function getPosts() {\n    try {\n      const res = await axios.get(\"/api/posts\");\n\n      dispatch({\n        type: \"GET_POSTS\",\n        payload: res.data.data,\n      });\n    } catch (error) {\n      dispatch({\n        type: \"POST_ERROR\",\n        payload: error.response.data.error,\n      });\n    }\n  }\n\n  async function deletePost(id) {\n    try {\n      await axios.delete(`/api/posts/${id}`);\n\n      dispatch({\n        type: \"DELETE_POST\",\n        payload: id,\n      });\n    } catch (error) {\n      dispatch({\n        type: \"POST_ERROR\",\n        payload: error.response.data.error,\n      });\n    }\n  }\n\n  async function addPost(post) {\n    const config = {\n      header: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n    try {\n      const res = await axios.post(\"/api/posts\", post, config);\n\n      dispatch({\n        type: \"ADD_POST\",\n        payload: res.data.data,\n      });\n    } catch (error) {\n      dispatch({\n        type: \"POST_ERROR\",\n        payload: error.response.data.error,\n      });\n    }\n  }\n\n  return (\n    <GlobalContext.Provider\n      value={{\n        posts: state.posts,\n        error: state.error,\n        loading: state.loading,\n        deletePost,\n        addPost,\n        getPosts,\n      }}\n    >\n      {children}\n    </GlobalContext.Provider>\n  );\n};\n","import React, { useContext } from \"react\";\nimport { GlobalContext } from \"../context/GlobalState\";\n\nconst Post = ({ id, title, body, tags, date, topic, source }) => {\n  const { deletePost } = useContext(GlobalContext);\n  return (\n    <div className=\"post-container\">\n      <h3>{title}</h3>\n      <p>{date}</p>\n      <p>{body}</p>\n      <p>Source: {source}</p>\n      <button onClick={() => deletePost(id)}>Delete</button>\n    </div>\n  );\n};\n\nexport default Post;\n","import React, { useContext, useEffect } from \"react\";\nimport Post from \"./Post\";\nimport moment from \"moment\";\nimport { GlobalContext } from \"../context/GlobalState\";\n\nconst Posts = () => {\n  const { posts, getPosts } = useContext(GlobalContext);\n\n  useEffect(() => {\n    getPosts();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <>\n      {posts.map((post) => {\n        return (\n          <Post\n            title={post.title}\n            body={post.body}\n            date={moment(post.createdAt).format(\"Do MMMM YYYY, h:mm a\")}\n            tags={post.tags}\n            topic={post.topic}\n            key={post._id}\n            id={post._id}\n            source={post.source}\n          />\n        );\n      })}\n    </>\n  );\n};\n\nexport default Posts;\n","import React, { useState, useContext } from \"react\";\nimport { GlobalContext } from \"../context/GlobalState\";\n\nconst AddPost = ({ setShowAddPost }) => {\n  const { addPost } = useContext(GlobalContext);\n\n  const [title, setTitle] = useState();\n  const [body, setBody] = useState();\n  const [topic, setTopic] = useState();\n  const [tags, setTags] = useState();\n  const [source, setSource] = useState();\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n\n    const newPost = {\n      title,\n      body,\n      topic,\n      tags,\n      source,\n    };\n\n    addPost(newPost);\n    setShowAddPost(false);\n  };\n\n  return (\n    <div>\n      <h3>Add new post</h3>\n      <form onSubmit={onSubmit}>\n        <div className=\"form-control\">\n          <label htmlFor=\"text\">Title</label>\n          <input\n            type=\"text\"\n            placeholder=\"Enter title...\"\n            onChange={(e) => setTitle(e.target.value)}\n          />\n        </div>\n        <div className=\"form-control\">\n          <label htmlFor=\"text\">Text</label>\n          <input\n            type=\"text\"\n            placeholder=\"Enter text...\"\n            onChange={(e) => setBody(e.target.value)}\n          />\n        </div>\n        <div className=\"form-control\">\n          <label htmlFor=\"text\">Topic</label>\n          <input\n            type=\"text\"\n            placeholder=\"Enter topic...\"\n            onChange={(e) => setTopic(e.target.value)}\n          />\n        </div>\n        <div className=\"form-control\">\n          <label htmlFor=\"text\">Source</label>\n          <input\n            type=\"text\"\n            placeholder=\"Enter source...\"\n            onChange={(e) => setSource(e.target.value)}\n          />\n        </div>\n        <div className=\"form-control\">\n          <label htmlFor=\"text\">Tags</label>\n          <input\n            type=\"text\"\n            placeholder=\"Enter tags, separated by a comma\"\n            onChange={(e) => setTags([e.target.value])}\n          />\n        </div>\n        <button className=\"btn\">Add post</button>\n      </form>\n    </div>\n  );\n};\n\nexport default AddPost;\n","import React, { useState } from \"react\";\nimport \"./App.css\";\nimport Header from \"./components/Header\";\nimport Posts from \"./components/Posts\";\nimport AddPost from \"./components/AddPost\";\n\nimport { GlobalContext, GlobalProvider } from \"./context/GlobalState\";\n\nfunction App() {\n  const [showAddPost, setShowAddPost] = useState(false);\n\n  return (\n    <GlobalProvider>\n      <Header />\n      <button onClick={() => setShowAddPost((current) => !current)}>\n        {showAddPost ? \"Hide\" : \"Add New Post\"}\n      </button>\n      {showAddPost && <AddPost setShowAddPost={setShowAddPost} />}\n      <div className=\"container\">\n        <Posts />\n      </div>\n    </GlobalProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}